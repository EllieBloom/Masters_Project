display.brewer.pal(10, "Paired")
display.brewer.pal(9, "Paired")
brewer.pal(9, "Paired")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
scale_colour_brewer(palette="Paired")+
#scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
colours <- c("#FB9A99","#33A02C","#A6CEE3","#FDBF6F", "#E31A1C", "#CAB2D6", "#FF7F00","#1F78B4","#B2DF8A", "black")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
colours <- c("#B79F00","#F564E3","#F8766D","#00BFC4","#619CFF","#1F78B4","#FDBF6F","#B2DF8A","#E31A1C","black")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
brewer.pal(9, "Paired")
display.brewer.pal(9, "Paired")
colours <- c("#FB9A99","#CAB2D6", "#33A02C","#FF7F00","#A6CEE3","#1F78B4","#FDBF6F", "#B2DF8A","#E31A1C","black")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
colours <- c("#33A02C","#CAB2D6", "#33A02C","#FF7F00","#A6CEE3","#1F78B4","#FDBF6F", "#B2DF8A","#E31A1C","black")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
colours <- c("#FB9A99","#CAB2D6", "#33A02C","#FF7F00","#A6CEE3","#1F78B4","#FDBF6F", "#B2DF8A","#E31A1C","black")
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray", alpha=0.5)+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray", alpha=0.5)+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
ccf_plot
react_reprod_regional
r_plot <- react_reprod_regional %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))
r_plot
r_plot <- react_reprod_regional %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)
r_plot
r_plot <- react_reprod_regional %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
theme_bw
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_combd<=lockdown_3_end)
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comd<=lockdown_3_end)
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end)
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
theme_bw
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
theme_bw
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
theme_bw()
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(h=1)
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
theme_bw()
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))+
theme_bw()
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))+
theme_light()
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))+
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "bottom",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,3))
legend <- get_legend(r_plot)
legend
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,1))
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,2))
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "top",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,2))
ccf_plot <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks")) %>% #,region!="England"
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray", alpha=0.5)+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray", alpha=0.5)+
geom_line(aes(y=ccf, color=region)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
#scale_colour_brewer(palette="Paired")+
scale_color_manual(values=colours)+
facet_wrap(~type_mobility)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.title=element_blank(),
legend.position = "none",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold"),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,2))
ccf_plot_england <- ccf_summary %>% filter(!str_detect(type_mobility,"Parks"),region=="England") %>%
ggplot(aes(x=lag))+
geom_area(data=confint,aes(x=lag,y=upper_ci), fill="light gray")+
geom_area(data=confint,aes(x=lag,y=lower_ci), fill="light gray")+
geom_line(aes(y=ccf, color=type_mobility)) +
geom_hline(yintercept = 0, col="gray")+
geom_vline(xintercept=0, col="gray") +
ylim(-1,1)+
scale_color_manual(values=colours)+
facet_wrap(~region)+
theme_bw()+
labs(y="CCF", x="Lag (days)")+
theme(legend.position = "bottom",
strip.background=element_rect(color="white", fill="white"),
strip.text=element_text(color="black", face="bold", size=12),
axis.line = element_line(colour = "black"),
panel.border = element_rect(colour="black"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
r_plot <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "none",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,2))
legend <- get_legend(r_plot)
plot_grid(r_plot,
ccf_plot,legend, nrow=2,
rel_heights=c(1,2))
plot_grid(r_plot,
ccf_plot, nrow=2,
rel_heights=c(1,2))
legend <- get_legend(r_plot)
as_ggplot(legend)
library(ggpubr)
legend <- get_legend(r_plot)
as_ggplot(legend)
r_plot_with_legend <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="dark gray", linetype="dashed")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "right",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot_no_legend <- r_plot_with_legend + theme(legend.position = "none")
legend <- get_legend(r_plot_with_legend)
as_ggplot(legend)
plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,2))
library(ggpubr)
r_plot_with_legend <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="gray")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "right",
panel.border=element_blank(),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
r_plot_no_legend <- r_plot_with_legend + theme(legend.position = "none")
plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,2))
setwd("~/Desktop/Masters/Project/Analysis/Lags/Outputs/regional")
ggsave(file="multiplot_ccf_regional_reproduction.png", plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,2)), width=220, height=300, units="mm")
ggsave(file="multiplot_ccf_regional_reproduction.png", plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,2)), width=220, height=275, units="mm")
ggsave(file="multiplot_ccf_regional_reproduction.png", plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,2.5)), width=220, height=250, units="mm")
ggsave(file="multiplot_ccf_regional_reproduction.png", plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,1.8)), width=220, height=250, units="mm")
as_ggplot(legend)
ggsave(file="multiplot_ccf_regional_reproduction.png", plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,1.8), align="v"), width=220, height=250, units="mm")
plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,1.8), align="v")
plot_grid(r_plot_no_legend,
ccf_plot, nrow=2,
rel_heights=c(1,1.8), align="v",axis="lr")
r_plot_with_legend <- react_reprod_regional %>% filter(d_comb>=lockdown_3_start, d_comb<=lockdown_3_end) %>%
ggplot()+
geom_line(aes(x=d_comb,y=r, col=reg_char))+
scale_color_manual(values=colours)+
geom_hline(yintercept = 1, col="gray")+
xlim(lockdown_3_start,lockdown_3_end)+
scale_x_date(date_labels="%b %Y")+
labs(x="",y="Reproduction number")+
theme_light()+
theme(plot.title = element_text(hjust = 0.5),legend.position = "right",
panel.border=element_line(colour = "black"),
axis.line = element_line(colour = "black"),
#axis.text.x=element_blank(),
legend.title=element_blank(),
plot.margin = unit(c(0.1, 0.1, 0.1, 0.1), "cm"))
ggsave("regional_legend",as_ggplot(legend))
ggsave("regional_legend.png",as_ggplot(legend))
